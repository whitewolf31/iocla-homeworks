
    

    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    Tema 2 - Memoria lui Biju    [CS Open CourseWare]
  </title>

  <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="date" content="2021-12-07T19:52:21+0200"/>
<meta name="keywords" content="iocla,teme,tema-2"/>
<link rel="search" type="application/opensearchdescription+xml" href="/courses/lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="/courses/"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/courses/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/courses/feed.php?mode=list&amp;ns=iocla:teme"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="/courses/_export/xhtml/iocla/teme/tema-2"/>
<link rel="canonical" href="http://ocw.cs.pub.ro/courses/iocla/teme/tema-2"/>
<link rel="stylesheet" type="text/css" href="/courses/lib/exe/css.php?t=arctic&amp;tseed=1636196329"/>
<script type="text/javascript">/*<![CDATA[*/var NS='iocla:teme';var JSINFO = {"id":"iocla:teme:tema-2","namespace":"iocla:teme","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/courses/lib/exe/js.php?tseed=1636196329"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>

  <link rel="shortcut icon" href="/courses/lib/tpl/arctic/images/favicon.ico" />

  
</head>
<body>
<div id="wrapper" class='show'>
  <div class="dokuwiki">

    
    <div class="stylehead">
      <div class="header">
        <div class="pagename">
          <a href="/courses/iocla/"><img height="70" src="/courses//res/sigla_iocla.png"/> </a>        </div>
        <div class="logo">
          <a style="color: #AAA !important;" href="/courses/"/>Open CourseWare</a>        </div>
      </div>
    
       
      <div class="breadcrumbs">
              </div>
      
            </div>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
                  </div>
        <div class="bar-right">
          <a href="/courses/iocla/teme/tema-2?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a><a href="/courses/iocla/teme/tema-2?do=login&amp;sectok=3bc2149cd9ab32b0ed0bf3b4c9678e4d"  class="action login" rel="nofollow" title="Login">Login</a>        </div>
    </div>
        
    
    
    
              <div class="left_page">
          
<h1 class="sectionedit1" id="tema_2_-_memoria_lui_biju">Tema 2 - Memoria lui Biju</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> Deadline HARD: 17.12.2021, ora 23:55</div>
</li>
<li class="level1"><div class="li"> Data publicării: 22.11.2021</div>
</li>
<li class="level1"><div class="li"> Responsabili:</div>
<ul>
<li class="level3"><div class="li"> <a href="mailto:&#x69;&#x6c;&#x69;&#x6e;&#x63;&#x61;&#x2e;&#x73;&#x74;&#x72;&#x75;&#x74;&#x75;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;" class="mail" title="&#x69;&#x6c;&#x69;&#x6e;&#x63;&#x61;&#x2e;&#x73;&#x74;&#x72;&#x75;&#x74;&#x75;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;">   Ilinca-Ioana Struțu        </a></div>
</li>
<li class="level3"><div class="li"> <a href="mailto:&#x66;&#x6c;&#x6f;&#x72;&#x69;&#x6e;&#x2e;&#x70;&#x6f;&#x73;&#x74;&#x6f;&#x6c;&#x61;&#x63;&#x68;&#x65;&#x40;&#x73;&#x74;&#x75;&#x64;&#x2e;&#x61;&#x63;&#x73;&#x2e;&#x75;&#x70;&#x62;&#x2e;&#x72;&#x6f;" class="mail" title="&#x66;&#x6c;&#x6f;&#x72;&#x69;&#x6e;&#x2e;&#x70;&#x6f;&#x73;&#x74;&#x6f;&#x6c;&#x61;&#x63;&#x68;&#x65;&#x40;&#x73;&#x74;&#x75;&#x64;&#x2e;&#x61;&#x63;&#x73;&#x2e;&#x75;&#x70;&#x62;&#x2e;&#x72;&#x6f;">   Florin Postolache</a></div>
</li>
<li class="level3"><div class="li"> <a href="mailto:&#x76;&#x69;&#x72;&#x74;&#x61;&#x6e;&#x72;&#x61;&#x7a;&#x76;&#x61;&#x6e;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;" class="mail" title="&#x76;&#x69;&#x72;&#x74;&#x61;&#x6e;&#x72;&#x61;&#x7a;&#x76;&#x61;&#x6e;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;">   Răzvan-Nicolae Vîrtan</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Actualizări:</div>
<ul>
<li class="level3"><div class="li"> 23.11.2021 - 18:30 - <a href="https://github.com/systems-cs-pub-ro/iocla/tree/master/teme/tema-2" class="urlextern" title="https://github.com/systems-cs-pub-ro/iocla/tree/master/teme/tema-2"  rel="nofollow"> little fix în checker</a></div>
</li>
<li class="level3"><div class="li"> 23.11.2021 - 01:00 - <a href="https://github.com/systems-cs-pub-ro/iocla/tree/master/teme/tema-2" class="urlextern" title="https://github.com/systems-cs-pub-ro/iocla/tree/master/teme/tema-2"  rel="nofollow"> checker și teste</a> </div>
</li>
<li class="level3"><div class="li"> 23.11.2021 - 10:44 - Deadline-ul este soft</div>
</li>
<li class="level3"><div class="li"> 27.11.2021 - 12:30 - Clarificări coding style și enunț task 2</div>
</li>
<li class="level3"><div class="li"> 07.12.2021 - 20:00 - Anulare deadline SOFT</div>
</li>
</ul>
</li>
</ul>

</div>

<h2 class="sectionedit2" id="enunt">Enunț</h2>
<div class="level2">

<p>
Acum că știe mai multe despre sistemele de fișiere, Biju vrea să devină expert în memorie, în drumul către răzbunarea sa. Pentru asta, s-a înscris într-o echipă de hackeri, însă a realizat repede că nu e suficient de pregătit, pentru că nu-l întreabă nimeni nimic. Sarcina voastră este să-l ajutați să rezolve câteva task-uri pentru a deveni mai bun și nu în ultimul rând, pentru a deveni un om întrebat.
</p>

</div>

<h2 class="sectionedit3" id="structura_si_detalii_de_implementare">Structură și detalii de implementare</h2>
<div class="level2">

<p>
Tema este formată din 4 exerciții independente. Fiecare task constă în implementarea unei funcții în limbaj de asamblare. Implementarea se realizează în fișierele puse la dispoziție pentru fiecare exercițiu.
</p>

<p>
<p><div class="noteclassic">Parametrii funcţiilor sunt plasaţi în registre, în cadrul scheletului.
</div></p>
<p><div class="notewarning">Scheletul include şi macro-ul PRINTF32, folosit în laborator, pentru a vă ajuta la depanarea problemelor. Tema finală nu trebuie să facă afişări folosind PRINTF32, funcții externe sau apeluri de sistem.
</div></p>
<p><div class="notewarning">În tema finală este interzisă apelarea funcţiilor externe.
</div></p>
</p>

<p>

<p style="color: white; font-weight: bold;">IOCLA RULZ!</p>

</p>
<hr />

</div>

<h3 class="sectionedit4" id="reversed_one_time_pad_-_10p">1. Reversed One Time Pad - 10p</h3>
<div class="level3">

<p>
Pentru început, Biju se încalzește cu un exercițiu de criptare. Pentru ca a găsit pe internet cum se implementează One Time Pad, Biju s-a gândit să complice puțin algoritmul prin inversarea cheii. Astfel, Biju va efectua operația XOR între mesajul său <strong> plaintext </strong> și cheia inversată <strong> key </strong>, ambele de lungime <strong> len </strong>. Rezultatul funcției este salvat mai apoi în <strong> ciphertext </strong>. 
</p>
<pre class="code c"> ciphertext<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> plain<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">^</span> key<span class="br0">&#91;</span>len <span class="sy0">-</span> i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span> </pre>

<p>
Biju trebuie să implementeze, în assembly, funcția de criptare Reverse One Time Pad. Antetul funției, în C, este:
</p>
<pre class="code">void rotp(char *ciphertext, char *plaintext, char *key, int len)</pre>
<hr />

</div>

<h3 class="sectionedit5" id="ages_-_15p">2. Ages - 15p</h3>
<div class="level3">

<p>
Acum că și-a reamintit cum se scria cod in assembly, Biju face o pauză și se uită pe un fișier primit de la un coechipier hacker. El realizează ca acest fișier conține zilele de nastere ale coechipierilor săi. Pentru ca lui Biju nu i-a plăcut matematica în liceu și nici la facultate, se hotărăște să scrie o funcție care calculează vârsta coechipierilor săi știind când s-au născut și care este data curentă. 
</p>

<p>
Astfel, Biju își definește o structură în care dorește să păstreze elementele unei date:
</p>
<pre class="code c"><span class="kw4">struct</span> my_date<span class="br0">&#123;</span>
    <span class="kw4">short</span> day<span class="sy0">;</span>
    <span class="kw4">short</span> month<span class="sy0">;</span>
    <span class="kw4">int</span> year<span class="sy0">;</span>
<span class="br0">&#125;</span> __attribute__<span class="br0">&#40;</span><span class="br0">&#40;</span>packed<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
Din acest fișier, Biju extrage numărul de persoane din echipă <strong>len</strong>, data curentă într-o variablia <strong> present </strong> și un vector care cuprinde toate datele de naștere ale coechipierilor săi <strong>all_ages</strong>. Rezultatul acestei funcții este un vector ce conține vârstele coechipierilor <strong>all_ages</strong>.
</p>

<p>
Antetul funcției, în C, este:
</p>
<pre class="code c"><span class="kw4">void</span> ages<span class="br0">&#40;</span><span class="kw4">int</span> len<span class="sy0">,</span> <span class="kw4">struct</span> my_date<span class="sy0">*</span> present<span class="sy0">,</span> <span class="kw4">struct</span> my_date<span class="sy0">*</span> dates<span class="sy0">,</span> <span class="kw4">int</span><span class="sy0">*</span> all_ages<span class="br0">&#41;</span></pre>

<p>
<p><div class="noteclassic">
Trebuie să verificați toate cazurile posibile, inclusiv cazul în care data de naștere este după data prezentă, caz în care trebuie returnat 0.

</div></p>
<p><div class="notetip">
Înainte de rezolvarea acestui task recomandăm parcurgerea laboratorului 7 
</p>

<p>
<a href="https://ocw.cs.pub.ro/courses/iocla/laboratoare/laborator-07" class="urlextern" title="https://ocw.cs.pub.ro/courses/iocla/laboratoare/laborator-07"  rel="nofollow">https://ocw.cs.pub.ro/courses/iocla/laboratoare/laborator-07</a>

</div></p>
</p>

<p>

<a style="color: white; font-weight: bold;" href="https://www.youtube.com/watch?v=eBGIQ7ZuuiU&ab_channel=YouGotRickRolled">CREZI CĂ AI AJUNS LA JUMĂTATE? NOT SO SURE ABOUT THAT!</a>

</p>
<hr />

</div>

<h3 class="sectionedit6" id="columnar_transposition_cipher_-_25p">3. Columnar Transposition Cipher - 25p</h3>
<div class="level3">

<p>
Pentru că momentan a fost întrebat doar cât este ceasul, Biju dorește să învețe tehnici avansate de criptare. (mai avansate decât rotp) Cu acestea, el dorește să cripteze toate documentele viitoarelor sale victime. După un search rapid pe Google, Biju a dat peste cifrul de transpoziție al coloanelor. Acesta pornește de la o cheie de lungime <strong>l_key</strong> și un plaintext de lungime <strong>l_plain</strong>. Se creeaza o matrice cu <strong> l_key </strong>coloane și <strong> ceil( l_plain/l_key ) + 1 </strong> <sup><a href="#fn__1" id="fnt__1" class="fn_top">1)</a></sup> linii. În aceasta, se trece pe prima linie cheia. Pe următoarele linii se trece plaintextul până la terminarea acestuia.
</p>

<p>
<strong> Exemplu: </strong>
</p>

<p>
<img src="/courses/_media/iocla/teme/exemplu_1.jpg?w=300&amp;tok=2a9d29" class="mediacenter" alt="" width="300" />
</p>

<p>
Textul codat se construiește prin citirea pe coloană a caracterelor din plaintext. Ordinea citirii coloanelor este ordinea lexicografică a caracterelor din cheie. În exemplul de mai sus oridnea coloanelor este: [ 0, 2, 4, 1, 3 ].
</p>

<p>
<strong> Exemplu codare: </strong>
</p>

<p>
<img src="/courses/_media/iocla/teme/exemplu_codare_1.jpg?w=300&amp;tok=429cd9" class="mediacenter" alt="" width="300" />
</p>

<p>
Deoarece Biju nu știe încă să sorteze matrici în funcție de coloane, a “împrumutat” de la colegul său de echipă o funcție care transformă cheia în vectorul de ordine al coloanelor descris mai sus. Ceea ce îi mai rămâne lui Biju de făcut este ca, având la îndemână vectorul de ordine si plaintextul, să realizeze codarea textului.
</p>

<p>
Biju trebuie să scrie funcția columnar_transposition, care primește ca parametrii vectorul de ordine al coloanelor, plaintextul și întoarce în ciphertext rezultatul codării.
</p>

<p>
Pentru a-și elibera câteva registre, Gigel iși salvează lungimea cheii și lungimea plaintextului în variabilele <strong> len_cheie </strong> și <strong> len_haystack </strong>.
</p>

<p>
Antetul funcției, în C, este:
</p>
<pre class="code c"><span class="kw4">void</span> columnar_transposition<span class="br0">&#40;</span><span class="kw4">int</span> key<span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span>haystack<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span>ciphertext<span class="br0">&#41;</span></pre>

<p>
<p><div class="noteimportant">Pentru usurinta, toate cheile vor avea doar litere mici.
</div></p>
</p>
<hr />

</div>

<h3 class="sectionedit7" id="cache_load_simulation_-_40p">4. Cache Load Simulation - 40p</h3>
<div class="level3">

<p>

<a style="color: white; font-weight: bold;" href="https://www.youtube.com/watch?v=nX2M7nzXWqA&ab_channel=MIGIANOTUCUERPO">AM VENIT SĂ VĂ ÎNVĂȚĂM MESERIE!</a>

</p>

<p>
Tocmai când și-a încheiat aventura criptografică și a crezut că e deja expert în memorie, Biju a aflat că lucrurile sunt și mai complicate, deoarece pe lângă memoria RAM mai există un tip special de memorie, numită <strong> cache </strong>. Sarcina voastră finală este să creați pentru Biju o simulare simplă de încărcare a datelor din memorie în registre, ținând cont și de existența cache-ului.
</p>

<p>
După cum știți deja, atunci când trebuie să lucreze cu niște date, procesorul trebuie mai întâi să le aducă din memoria RAM în registre(memoria sa internă). Memoria RAM are avantajul că poate păstra cantități mari de date, însă accesarea datelor de către procesor din memoria RAM durează relativ mult. În schimb, registrele pot fi accesae foarte rapid (fac parte din procesor), însă au o dimensiune redusă și nu putem stoca în ei foarte multe date simultan.
</p>

<p>
Memoria cache reprezintă o soluție de compromis, utilizată în aproape toate sistemele moderne de calcul. Aceasta este o unitate de memorie adițională, plasată între memoria RAM și procesor. Dimensiunea ei este mai mare decât cea a registrelor, însă mai mică decât cea a RAM-ului. De asemenea, timpul de acces este mai bun decât timpul de acces al datelor din RAM, iar asta ne ajută să scurtăm timpii de aducere a datelor din memoria RAM pe procesor.
</p>

<p>
Atunci când procesorul are nevoie de date de la o anumită adresă din RAM, acesta caută mai întâi în cache pentru a verifica dacă datele respective există acolo. Dacă da, înseamnă că avem un <strong> CACHE HIT </strong> și putem prelua datele direct din cache, fără a mai interacționa cu memoria principală, deci economisind timp. Dacă datele nu există încă în cache, înseamnă că avem un <strong> CACHE MISS </strong>, situație în care datele trebuie mai întâi aduse din RAM în cache, după care trebuie transferate în registrele procesorului. Deși la un <strong> CACHE MISS </strong> avem un delay suplimentar, a doua oară când vom încerca să accesăm date de la aceeași adresă le vom putea accesa mai rapid, deoarece acum se află în cache (cu condiția să nu fi fost între timp suprascrise!).
</p>

</div>

<h5 id="structura_cache-ului">Structura cache-ului</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li"> Cache-ul din cadrul acestui task este unul simplificat și are forma unui tabel cu 100 de linii, fiecare linie având 8 octeți. În cadrul implementării, cache-ul este reprezentat ca o matrice alocată static, <strong> char cache[CACHE_LINES][CACHE_LINE_SIZE] </strong>. Pe o linie din cache vom avea, la un moment dat, 8 octeți consecutivi din memorie, adresa primului octet de pe linie fiind mereu divizibilă cu 8 (adică are ultimii 3 biți 0).</div>
</li>
<li class="level1"><div class="li"> Fiecare linie din `cache` are asociat un tag. Dacă linia respectivă nu conține date, tag-ul e 0. Dacă linia din cache conține date, tag-ul e egal cu valoarea obținută din primii 32 - 3 = 29 de biți ai adresei primului octet de pe linia respectivă. Spre exemplu:</div>
</li>
</ul>
<pre class="code c">adresa primului octet de la linia <span class="nu0">12</span> din cache<span class="sy0">:</span>  <span class="nu8">00111001000001001110001000111000</span>  
valoarea tag<span class="sy0">-</span>ului pentru această linie<span class="sy0">:</span>          <span class="nu8">00111001000001001110001000111</span></pre>

<p>
Observăm că am tăiat practic ultimii 3 biți din adresă. Tag-ul este utilizat în căutarea datelor de la o anumită adresă în cache. În cadrul implementării, tag-urile sunt reprezentate ca un vector cu <strong>CACHE_LINES</strong> elemente: 
</p>
<pre class="code c"> <span class="kw4">char</span><span class="sy0">**</span> tags </pre>
<ul>
<li class="level1"><div class="li"> Pentru o linie de cache care nu conține date, tag-ul este 0. </div>
</li>
<li class="level1"><div class="li"> “Registrul” în care ne vom dori să încărcăm date va fi de fapt o variabilă de 1 octet, <strong> char reg </strong>. Practic, ne va interesa să primim o adresă de memorie și să încărcăm în final un octet de la acea adresă în <strong> reg </strong>.</div>
</li>
</ul>

</div>

<h5 id="algoritmul_de_load">Algoritmul de load</h5>
<div class="level5">

<p>
 Antetul funcției load are următoarea formă:
</p>
<pre class="code c"> <span class="kw4">void</span> load<span class="br0">&#40;</span><span class="kw4">char</span> <span class="sy0">*</span>reg<span class="sy0">,</span> <span class="kw4">char</span><span class="sy0">**</span> tags<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">**</span>cache<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span>address<span class="sy0">,</span> <span class="kw4">int</span> to_replace<span class="br0">&#41;</span> </pre>

<p>
Pe lângă parametrii <strong> reg </strong>, <strong> tags </strong> și <strong> cache </strong>, deja explicați, <strong> address </strong> reprezintă adresa octetului care trebuie în final adus în <strong> reg </strong>, iar <strong> to_replace </strong> reprezintă index-ul liniei din <strong> cache </strong> în care trebuie să aducem date în caz de <strong> CACHE_MISS </strong>.
</p>

<p>
Algoritmul de load care trebuie implementat e următorul:
</p>
<ol>
<li class="level1"><div class="li"> Calculăm tag-ul pentru adresa de la care vrem să obținem date</div>
</li>
<li class="level1"><div class="li"> Iterăm prin tag-urile fiecărei linii. Dacă am găsit o linie care are asociat tag-ul calculat la pasul 1, calculăm offset-ul din cadrul liniei pentru octetul pe care vrem să-l copiem în registru și aducem acest octet din cache în registru. (Offset-ul e reprezentat de cei mai puțin semnificativ 3 biți din adresa octetului, cei pe care îi tăiem când calculăm tag-ul.)</div>
</li>
<li class="level1"><div class="li"> Dacă nu am găsit o linie care are asociat tag-ul calculat la pasul 1, trebuie să aducem 8 octeți consecutivi din memorie într-o linie a cache-ului, unul din acești octeți fiind cel dorit (CACHE MISS). Linia pe care trebuie să o scriem la acest pas e cea cu index-ul <strong> to_replace </strong>. După ce a fost adusă linia în cache, registrul trebuie scris la fel ca la pasul precedent.</div>
</li>
</ol>

</div>

<h5 id="exemplu">Exemplu</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li"> Adresa de la care vrem să citim este, în binar: 01011010100010001010000011100<strong>101</strong>. Tag-ul este format din primii 29 de biți: <strong> 01011010100010001010000011100 </strong>. Offset-ul este format din ultimii 3 biți: <strong> 101 </strong> = 5. Dacă este găsit tag-ul în vectorul tags pe poziția <strong> i </strong>, se aduce direct din cache în registru valoarea <strong> cache[i][offset] = cache[i][5] </strong>.</div>
</li>
<li class="level1"><div class="li"> Dacă nu este găsit tag-ul în vector, se scriu cei 8 octeți cu adrese între 01011010100010001010000011100<strong>000</strong> și 01011010100010001010000011100<strong>111</strong> pe linia <strong>cache[to_replace]</strong>, după care se scrie în registru octetul <strong>cache[to_replace][offset]</strong>. De asemenea, <strong>tags[to_replace]</strong> devine 01011010100010001010000011100, astfel încât atunci când dorim să accesăm din nou o valoare din același interval de adrese, să o putem găsi direct în cache.</div>
</li>
</ul>

<p>
<p><div class="notetip">În cadrul exercițiului, va trebui să accesați valori de pe o anumită linie și coloană din matricea <strong>cache</strong>. Știți deja de la laborator cum să accesați date dintr-un vector. Accesarea valorilor din matricea alocată static este similară, deoarece
chiar dacă noi o gândim ca fiind reprezentată pe linii și coloane, în realitate ea este reprezentată în memorie continuu, tot
ce trebuie să facem e să găsim un mod de a transforma linia și coloana într-un singur index.
</p>
<pre class="code c">Pentru matricea alocată <span class="kw4">static</span><span class="sy0">:</span>
<span class="nu0">1</span> <span class="nu0">2</span> <span class="nu0">3</span>
<span class="nu0">4</span> <span class="nu0">5</span> <span class="nu0">6</span>
<span class="nu0">7</span> <span class="nu0">8</span> <span class="nu0">9</span>
Avem de fapt în memorie un șir continuu de forma<span class="sy0">:</span>
<span class="nu0">1</span> <span class="nu0">2</span> <span class="nu0">3</span> <span class="nu0">4</span> <span class="nu0">5</span> <span class="nu0">6</span> <span class="nu0">7</span> <span class="nu0">8</span> <span class="nu0">9</span></pre>

<p>

</div></p>
<p><div class="noteimportant">
Checker-ul nu verifică doar valoarea scrisă în final în variabila <strong>reg</strong>, ci și valorile scrise în matricea <strong>cache</strong> după efectuarea operației de load. Asta înseamnă că testele nu vor trece dacă încărcați mereu date din memorie, fără a interacționa cu cache-ul. De asemenea, vor fi teste care pică dacă aduceți mereu date din memorie în cache, și în caz de <strong>CACHE HIT</strong>, când nu ar trebui să faceți asta.

</div></p>
<p><div class="notetip">
După cum puteți observa, în cadrul acestui exercițiu am realizat doar o simulare de lucru cu memoria cache, în realitate făcând doar transferuri de date în memoria RAM (atât registrul, cât și memoria cache sunt defapt stocate în memoria RAM). Transferurile de date care includ memoria cache nu sunt accesibile la nivel
software, programele noastre având senzația că lucrează mereu cu RAM-ul (de aici și denumirea de memorie cache, adică memorie “ascunsă”).
Pentru mai multe detalii despre memoria cache, puteți consulta acest articol: <a href="https://www.geeksforgeeks.org/cache-memory-in-computer-organization/" class="urlextern" title="https://www.geeksforgeeks.org/cache-memory-in-computer-organization/"  rel="nofollow">https://www.geeksforgeeks.org/cache-memory-in-computer-organization/</a>.

</div></p>
</p>

<p>

<a style="color: white; font-weight: bold;" href="https://www.youtube.com/watch?v=KM08GDI0fTc&ab_channel=AmmAMusic%26Sound">CUM VĂ SIMȚIȚI DUPĂ CE TERMINAȚI ULTIMUL TASK!</a>

</p>

</div>

<h2 class="sectionedit8" id="precizari_suplimentare">Precizări suplimentare</h2>
<div class="level2">

<p>
În schelet este inclus şi checker-ul, împreună cu testele folosite de acesta. Pentru a executa toate testele, se pot folosi comenzile <code>make run</code> sau <code>./checker</code>, după ce checker-ul a fost compilat, folosind <code>make</code>.
Pentru a testa doar un subpunct, se poate folosi <code>./checker &lt;n&gt;</code> unde n este numărul subpunctului.
</p>

<p>
Formatul fişierelor de intrare pentru Reversed One Time Pad este:
</p>
<pre class="code">len 
plaintext 
key</pre>

<p>
Formatul fişierelor de intrare pentru Ages este:
</p>
<pre class="code">len
present
dates</pre>

<p>
Formatul fişierelor de intrare pentru Columnar Transposition Cipher este:
</p>
<pre class="code">len_plaintext len_key
plaintext
key</pre>

<p>
Pentru cache, există 2 fișiere de intrare, care conțin datele ce se află în memoria RAM simulată. În checker, memoria RAM e simulată ca o matrice de dimensiune 16&times;16 pe primele 5 teste (care folosesc primul fișier de intrare), respectiv o matrice de dimensune 48&times;48 pentru următoarele 5 teste (care folosesc al doilea fișier de intrare). Acest acest lucru nu ar trebui să vă influențeze însă rezolvarea, deoarece veți primi direct adresa reală de memorie de la care trebuie să aduceți date. Formatul fișierelor de referință este următorul:
</p>
<pre class="code">valoare registru după rulare load (reg)
cele 8 valori (octeți) care trebuie să se afle pe linia to_replace din cache după rulare load</pre>

</div>

<h2 class="sectionedit9" id="trimitere_si_notare">Trimitere și notare</h2>
<div class="level2">

<p>
Temele vor trebui încărcate pe platforma vmchecker (în secțiunea IOCLA) și vor fi testate automat. 
</p>

<p>
Arhiva încărcată va fi o arhivă <code>.zip</code> care trebuie să conțină:
</p>
<ul>
<li class="level1"><div class="li"> fișierele sursă ce conțin implementarea temei: <code>rotp.asm ages.asm columnar.asm cache.asm</code></div>
</li>
<li class="level1"><div class="li"> <code>README</code> ce conține descrierea implementării</div>
</li>
</ul>

<p>
Punctajul final acordat pe o temă este compus din:
</p>
<ul>
<li class="level1"><div class="li"> punctajul obținut prin testarea automată de pe vmchecker - 90%</div>
</li>
<li class="level1"><div class="li"> README + coding style - 10%.</div>
</li>
</ul>

<p>
<p><div class="noteclassic">
Coding style-ul constă în:
</p>
<ul>
<li class="level1"><div class="li"> prezența comentariilor în cod</div>
</li>
<li class="level1"><div class="li"> scrierea unui cod lizibil</div>
</li>
<li class="level1"><div class="li"> indentarea consecventă</div>
</li>
<li class="level1"><div class="li"> utilizarea unor nume sugestive pentru label-uri</div>
</li>
<li class="level1"><div class="li"> scrierea unor linii de cod/README de maxim 80-100 de caractere</div>
</li>
</ul>

<p>

</div></p>
</p>

<p>
<p><div class="notewarning">
Temele care nu trec de procesul de asamblare (build) nu vor fi luate în considerare.

</div></p>
</p>

<p>
<p><div class="noteclassic">
Mașina virtuală folosită pentru testarea temelor de casă pe vmchecker este descrisă în secțiunea <a href="/courses/iocla/utile#masini-virtuale" class="wikilink1" title="iocla:utile">Mașini virtuale</a> din pagina de resurse.

</div></p>
</p>

<p>
<p><div class="notewarning">
Vă reamintim să parcurgeți atât secțiunea de <a href="/courses/iocla/reguli-notare#depunctari_teme" class="wikilink1" title="iocla:reguli-notare">depunctări</a> cât și <a href="/courses/iocla/reguli-notare#realizarea_temelor" class="wikilink1" title="iocla:reguli-notare">regulamentul de realizare a temelor</a>.

</div></p>
</p>

</div>

<h2 class="sectionedit10" id="resurse">Resurse</h2>
<div class="level2">

<p>
Scheletul şi checker-ul sunt disponibile pe <a href="https://github.com/systems-cs-pub-ro/iocla/tree/master/teme/tema-2" class="urlextern" title="https://github.com/systems-cs-pub-ro/iocla/tree/master/teme/tema-2"  rel="nofollow"> repository-ul de IOCLA</a>.
</p>

</div>
<div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
Funcția ceil(x) întoarce cea mai mică valoare întreaga, mai mare sau egală cu x</div>
</div>

        </div>
        <div class="right_sidebar">
          <form action="/courses/start" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>          <div class="namespace_sidebar sidebar_box">



<div><div id="nojs_indexmenu_169611262961b550029f7a7" data-jsajax="%26skipfile%3D%252B/iocla%253A%2528sidebar%257Cindex%257Cdraft-reguli-si-notare%257CCatalog%2529/" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="/courses/iocla/anunturi" class="wikilink1" title="iocla:anunturi">Anunțuri</a></div></li>
<li class="level1"><div class="li"><a href="/courses/iocla/bune-practici" class="wikilink1" title="iocla:bune-practici">Bune practici</a></div></li>
<li class="level1"><div class="li"><a href="/courses/iocla/calendar" class="wikilink1" title="iocla:calendar">Calendar</a></div></li>
<li class="level1"><div class="li"><a href="/courses/iocla/catalog" class="wikilink1" title="iocla:catalog">Catalog</a></div></li>
<li class="level1"><div class="li"><a href="/courses/iocla/feed" class="wikilink1" title="iocla:feed">Feed RSS</a></div></li>
<li class="level1"><div class="li"><a href="/courses/iocla/need-to-know" class="wikilink1" title="iocla:need-to-know">IOCLA Need to Know</a></div></li>
<li class="level1"><div class="li"><a href="/courses/iocla/reguli-notare" class="wikilink1" title="iocla:reguli-notare">Reguli și notare</a></div></li>
<li class="level1"><div class="li"><a href="/courses/iocla/utile" class="wikilink1" title="iocla:utile">Resurse utile</a></div></li>
</ul>
</div></div>

<h1 class="sectionedit1" id="cursuri">Cursuri</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-00" class="wikilink1" title="iocla:cursuri:capitol-00">Capitol 00: Prezentare</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-01" class="wikilink1" title="iocla:cursuri:capitol-01">Capitol 01: Programe și sistemul de calcul</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-02" class="wikilink1" title="iocla:cursuri:capitol-02">Capitol 02: Construirea programelor</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-03" class="wikilink1" title="iocla:cursuri:capitol-03">Capitol 03: Arhitectura sistemului de calcul</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-04" class="wikilink1" title="iocla:cursuri:capitol-04">Capitol 04: Reprezentarea numerelor</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-05" class="wikilink1" title="iocla:cursuri:capitol-05">Capitol 05: Interfața hardware - software x86</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-06" class="wikilink1" title="iocla:cursuri:capitol-06">Capitol 06: Stiva</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-07" class="wikilink1" title="iocla:cursuri:capitol-07">Capitol 07: Funcții</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-08" class="wikilink1" title="iocla:cursuri:capitol-08">Capitol 08: Interfața binară a funcțiilor</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-09" class="wikilink1" title="iocla:cursuri:capitol-09">Capitol 09: Gestiunea bufferelor</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-10" class="wikilink1" title="iocla:cursuri:capitol-10">Capitol 10: Curs ales de titular</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/cursuri/capitol-11" class="wikilink1" title="iocla:cursuri:capitol-11">Capitol 11: Curs ales de studenți</a></div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "Cursuri" [197-1100] -->
<h1 class="sectionedit2" id="laboratoare">Laboratoare</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-01" class="wikilink1" title="iocla:laboratoare:laborator-01">Laborator 01: Reprezentarea numerelor, operații pe biți și lucru cu memoria</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-02" class="wikilink1" title="iocla:laboratoare:laborator-02">Laborator 02: Operații cu memoria. Introducere în GDB</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-03" class="wikilink1" title="iocla:laboratoare:laborator-03">Laborator 03: Toolchain</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-04" class="wikilink1" title="iocla:laboratoare:laborator-04">Laborator 04: Crearea și analiza unui executabil</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-05" class="wikilink1" title="iocla:laboratoare:laborator-05">Laborator 05: Introducere în limbajul de asamblare</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-06" class="wikilink1" title="iocla:laboratoare:laborator-06">Laborator 06: Rolul registrelor, adresare directă și bazată</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-07" class="wikilink1" title="iocla:laboratoare:laborator-07">Laborator 07: Date Structurate. Structuri, vectori. Operatii pe siruri</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-08" class="wikilink1" title="iocla:laboratoare:laborator-08">Laborator 08: Lucrul cu stiva</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-09" class="wikilink1" title="iocla:laboratoare:laborator-09">Laborator 09: Apeluri de funcții</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-10" class="wikilink1" title="iocla:laboratoare:laborator-10">Laborator 10: Interactiunea C-assembly</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-11" class="wikilink1" title="iocla:laboratoare:laborator-11">Laborator 11: Gestiunea bufferelor. Buffer overflow</a></div>
</li>
<li class="level1"><div class="li"> <a href="/courses/iocla/laboratoare/laborator-12" class="wikilink1" title="iocla:laboratoare:laborator-12">Laborator 12: CTF</a></div>
</li>
</ul>

<div><div id="nojs_indexmenu_181344266161b55002a26aa" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="/courses/iocla/laboratoare/extra/laborator-arm" class="wikilink1" title="iocla:laboratoare:extra:laborator-arm">Laborator facultativ: ARM assembly</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT2 SECTION "Laboratoare" [1101-1658] -->
<h1 class="sectionedit3" id="teme">Teme</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="/courses/iocla/teme/tema-1" class="wikilink1" title="iocla:teme:tema-1">Tema 1  - Sistemul lui Biju</a></div>
</li>
<li class="level1"><div class="li"> <span class="curid"><a href="/courses/iocla/teme/tema-2" class="wikilink1" title="iocla:teme:tema-2"> Tema 2 - Memoria lui Biju</a></span></div>
</li>
</ul>

</div>
<!-- EDIT3 SECTION "Teme" [1659-] -->
</div>
<div class="toc_sidebar sidebar_box">
<!-- TOC START -->
<div id="sb__right__dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#tema_2_-_memoria_lui_biju">Tema 2 - Memoria lui Biju</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#enunt">Enunț</a></div></li>
<li class="level2"><div class="li"><a href="#structura_si_detalii_de_implementare">Structură și detalii de implementare</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#reversed_one_time_pad_-_10p">1. Reversed One Time Pad - 10p</a></div></li>
<li class="level3"><div class="li"><a href="#ages_-_15p">2. Ages - 15p</a></div></li>
<li class="level3"><div class="li"><a href="#columnar_transposition_cipher_-_25p">3. Columnar Transposition Cipher - 25p</a></div></li>
<li class="level3"><div class="li"><a href="#cache_load_simulation_-_40p">4. Cache Load Simulation - 40p</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#precizari_suplimentare">Precizări suplimentare</a></div></li>
<li class="level2"><div class="li"><a href="#trimitere_si_notare">Trimitere și notare</a></div></li>
<li class="level2"><div class="li"><a href="#resurse">Resurse</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
</div>
        </div>
      
    
      <div class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          iocla/teme/tema-2.txt · Last modified: 2021/12/07 19:52 by ilinca_ioana.strutu          </div>
        </div>
      </div>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
        <a href="/courses/iocla/teme/tema-2?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]">Old revisions</a>      </div>
      <div class="bar-right">
        <a href="/courses/iocla/teme/tema-2?do=media&amp;ns=iocla%3Ateme"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div align="center" class="footerinc">
  <div class="license"><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="/courses/lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 3.0 Unported" /></a></div>
  <a target="_blank" href="http://www.chimeric.de" title="www.chimeric.de"><img src="/courses/lib/tpl/arctic/images/button-chimeric-de.png" width="80" height="15" alt="www.chimeric.de" border="0" /></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="/courses/lib/tpl/arctic/images/button-css.png" width="80" height="15" alt="Valid CSS" border="0" /></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="/courses/lib/tpl/arctic/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0" /></a>

  <a target="_blank" href="http://www.firefox-browser.de" title="do yourself a favour and use a real browser - get firefox"><img src="/courses/lib/tpl/arctic/images/button-firefox.png" width="80" height="15" alt="do yourself a favour and use a real browser - get firefox!!" border="0" /></a>
  
  <a target="_blank" href="/courses/feed.php" title="Recent changes RSS feed"><img src="/courses/lib/tpl/arctic/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0" /></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="/courses/lib/tpl/arctic/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0" /></a>
</div>

  </div>
</div>

<div class="no"><img src="/courses/lib/exe/indexer.php?id=iocla%3Ateme%3Atema-2&amp;1639272450" width="2" height="1" alt="" /></div>
</body>
</html>
